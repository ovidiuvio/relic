<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAAS Paste - Metal as a Service Style Pastebin</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400;500;700&family=Ubuntu+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --color-aubergine: #772953;
            --color-orange: #E95420;
            --color-light-grey: #F7F7F7;
            --color-mid-grey: #AEA79F;
            --color-dark-grey: #333333;
            --color-warm-grey: #dfdcd9;
        }
        
        body {
            font-family: 'Ubuntu', sans-serif;
            background-color: var(--color-light-grey);
            color: var(--color-dark-grey);
        }

        .font-ubuntu {
            font-family: 'Ubuntu', sans-serif;
        }

        /* MAAS Specific Styling Overrides */
        .maas-header {
            background-color: var(--color-aubergine);
        }

        .maas-nav-item {
            color: #333;
            border-left: 4px solid transparent;
            transition: all 0.2s;
        }

        .maas-nav-item:hover {
            background-color: rgba(0,0,0,0.03);
            text-decoration: none;
        }

        .maas-nav-item.active {
            border-left-color: var(--color-orange);
            font-weight: 500;
            background-color: #fff;
        }

        .maas-btn-primary {
            background-color: #0E8420; /* Ubuntu Green for actions */
            color: white;
        }
        .maas-btn-primary:hover {
            background-color: #0a6b19;
        }

        .maas-btn-secondary {
            background-color: white;
            border: 1px solid #cdcdcd;
            color: #333;
        }
        .maas-btn-secondary:hover {
            background-color: #f9f9f9;
            border-color: #999;
        }

        .maas-input {
            border: 1px solid #AEA79F;
            border-radius: 2px;
        }
        .maas-input:focus {
            border-color: var(--color-orange);
            outline: none;
            box-shadow: 0 0 0 1px var(--color-orange);
        }

        /* Table Styling */
        .maas-table th {
            font-weight: 400;
            color: #111;
            border-bottom: 1px solid #AEA79F;
            text-align: left;
            padding: 0.75rem 1rem;
            font-size: 0.875rem;
        }
        
        .maas-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #dfdcd9;
            vertical-align: middle;
        }

        .maas-table tr:hover td {
            background-color: #fcfcfc;
        }

        /* Status Pills */
        .status-pill {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
        }
        .status-public { background-color: #e3f2fd; color: #0c5460; }
        .status-private { background-color: #fce4ec; color: #772953; }
        .status-burn { background-color: #fff3e0; color: #e65100; }

        /* Code Editor Look */
        .code-editor {
            font-family: 'Ubuntu Mono', monospace;
            background-color: #fff;
            border: 1px solid #dfdcd9;
        }
        
        pre {
            font-family: 'Ubuntu Mono', monospace;
        }
    </style>
</head>
<body class="h-screen flex flex-col overflow-hidden">

    <!-- Top Header -->
    <header class="maas-header text-white h-14 flex items-center justify-between px-4 shadow-md z-20 shrink-0">
        <div class="flex items-center gap-3">
            <div class="font-bold text-xl tracking-tight">MAAS <span class="font-light opacity-80">PASTE</span></div>
            <span class="text-xs bg-black/20 px-2 py-0.5 rounded text-white/70">v3.4.0</span>
        </div>
        <div class="flex items-center gap-4 text-sm">
            <div class="flex items-center gap-2 opacity-90 hover:opacity-100 cursor-pointer">
                <i class="fa-regular fa-circle-user"></i>
                <span>admin</span>
            </div>
            <div class="border-l border-white/20 h-4 mx-1"></div>
            <i class="fa-solid fa-gear opacity-70 hover:opacity-100 cursor-pointer"></i>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar -->
        <aside class="w-64 bg-[#F2F2F2] border-r border-[#dfdcd9] flex flex-col shadow-[inset_-1px_0_0_rgba(0,0,0,0.05)] overflow-y-auto shrink-0">
            <div class="p-4 text-xs font-bold text-[#AEA79F] uppercase tracking-wider mb-1">Pastebin Controller</div>
            
            <nav class="flex flex-col">
                <a href="#" onclick="app.navigate('dashboard')" id="nav-dashboard" class="maas-nav-item active px-6 py-3 text-sm flex items-center gap-3">
                    <i class="fa-solid fa-gauge-high w-4 text-center text-gray-500"></i>
                    Dashboard
                </a>
                <a href="#" onclick="app.navigate('pastes')" id="nav-pastes" class="maas-nav-item px-6 py-3 text-sm flex items-center gap-3">
                    <i class="fa-solid fa-list w-4 text-center text-gray-500"></i>
                    Pastes
                    <span class="ml-auto bg-[#dfdcd9] text-gray-600 text-xs px-1.5 rounded-full" id="paste-count-badge">0</span>
                </a>
                <a href="#" onclick="app.navigate('create')" id="nav-create" class="maas-nav-item px-6 py-3 text-sm flex items-center gap-3">
                    <i class="fa-solid fa-plus w-4 text-center text-gray-500"></i>
                    New Paste
                </a>
                
                <div class="mt-6 mb-2 px-6 text-xs font-bold text-[#AEA79F] uppercase tracking-wider">Configuration</div>
                
                <a href="#" class="maas-nav-item px-6 py-3 text-sm flex items-center gap-3 opacity-60 cursor-not-allowed">
                    <i class="fa-solid fa-tags w-4 text-center text-gray-500"></i>
                    Tags
                </a>
                <a href="#" class="maas-nav-item px-6 py-3 text-sm flex items-center gap-3 opacity-60 cursor-not-allowed">
                    <i class="fa-solid fa-users w-4 text-center text-gray-500"></i>
                    Users
                </a>
            </nav>
            
            <div class="mt-auto p-4 border-t border-[#dfdcd9]">
                <div class="text-xs text-gray-500">
                    <div class="flex justify-between mb-1">
                        <span>Storage</span>
                        <span>24%</span>
                    </div>
                    <div class="w-full bg-gray-300 h-1.5 rounded-full overflow-hidden">
                        <div class="bg-[#772953] h-full w-[24%]"></div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col bg-[#F7F7F7] overflow-hidden relative">
            
            <!-- Breadcrumb / Top Bar -->
            <div class="bg-white border-b border-[#dfdcd9] px-8 py-3 flex items-center justify-between shrink-0 h-14">
                <div class="flex items-center text-sm" id="breadcrumbs">
                    <span class="text-[#772953] hover:underline cursor-pointer">maas-controller</span>
                    <span class="mx-2 text-gray-400">/</span>
                    <span class="font-medium text-gray-800" id="page-title">Dashboard</span>
                </div>
                
                <div class="flex gap-3" id="action-buttons">
                    <!-- Dynamic Buttons -->
                </div>
            </div>

            <!-- Content Scroll Area -->
            <div class="flex-1 overflow-y-auto p-8" id="content-area">
                <!-- Views will be injected here -->
            </div>
        </main>
    </div>

    <!-- Templates -->
    <template id="view-dashboard">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-white p-5 border border-[#dfdcd9] shadow-sm rounded-sm border-t-4 border-t-[#E95420]">
                <div class="text-gray-500 text-sm font-medium uppercase mb-1">Total Pastes</div>
                <div class="text-3xl font-light text-[#333]" id="dash-total">0</div>
            </div>
            <div class="bg-white p-5 border border-[#dfdcd9] shadow-sm rounded-sm border-t-4 border-t-[#772953]">
                <div class="text-gray-500 text-sm font-medium uppercase mb-1">Active Users</div>
                <div class="text-3xl font-light text-[#333]">1</div>
            </div>
            <div class="bg-white p-5 border border-[#dfdcd9] shadow-sm rounded-sm border-t-4 border-t-[#0E8420]">
                <div class="text-gray-500 text-sm font-medium uppercase mb-1">System Status</div>
                <div class="text-3xl font-light text-[#333]">Healthy</div>
            </div>
        </div>

        <div class="bg-white border border-[#dfdcd9] shadow-sm rounded-sm">
            <div class="px-6 py-4 border-b border-[#dfdcd9] flex justify-between items-center bg-gray-50">
                <h3 class="font-medium text-gray-800">Recent Activity</h3>
                <button onclick="app.navigate('pastes')" class="text-[#0066cc] text-sm hover:underline">View all</button>
            </div>
            <div class="overflow-x-auto">
                <table class="w-full maas-table text-sm">
                    <thead>
                        <tr class="bg-gray-50 text-gray-500 uppercase text-xs tracking-wider">
                            <th class="w-1/3">Title</th>
                            <th>Syntax</th>
                            <th>Status</th>
                            <th>Created</th>
                            <th>Size</th>
                        </tr>
                    </thead>
                    <tbody id="dash-table-body">
                        <!-- Rows -->
                    </tbody>
                </table>
            </div>
        </div>
    </template>

    <template id="view-pastes">
        <div class="bg-white border border-[#dfdcd9] shadow-sm rounded-sm flex flex-col h-full">
            <div class="px-4 py-3 border-b border-[#dfdcd9] bg-gray-50 flex gap-4 items-center">
                <div class="relative flex-1 max-w-md">
                    <i class="fa-solid fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
                    <input type="text" id="search-input" oninput="app.renderPasteList(this.value)" placeholder="Filter by name, syntax, or id..." class="w-full pl-9 pr-3 py-1.5 text-sm maas-input">
                </div>
                <div class="flex items-center gap-2 ml-auto">
                    <span class="text-xs text-gray-500 uppercase font-bold mr-2">Group by:</span>
                    <select class="text-sm bg-transparent border-none font-medium text-gray-700 focus:ring-0 cursor-pointer">
                        <option>None</option>
                        <option>Syntax</option>
                        <option>Status</option>
                    </select>
                </div>
            </div>
            
            <div class="flex-1 overflow-auto">
                <table class="w-full maas-table text-sm">
                    <thead class="sticky top-0 bg-gray-50 z-10 shadow-sm">
                        <tr class="text-gray-500 uppercase text-xs tracking-wider">
                            <th class="w-8"><input type="checkbox" class="rounded border-gray-300"></th>
                            <th>Title / ID</th>
                            <th>Syntax</th>
                            <th>Visibility</th>
                            <th>Created</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="pastes-table-body">
                        <!-- Content -->
                    </tbody>
                </table>
            </div>
            
            <div class="px-4 py-2 border-t border-[#dfdcd9] bg-gray-50 text-xs text-gray-500 flex justify-between items-center">
                <span id="footer-count">0 pastes</span>
                <div class="flex gap-1">
                    <button class="px-2 py-1 hover:bg-gray-200 rounded disabled:opacity-50" disabled><i class="fa-solid fa-chevron-left"></i></button>
                    <button class="px-2 py-1 hover:bg-gray-200 rounded disabled:opacity-50" disabled><i class="fa-solid fa-chevron-right"></i></button>
                </div>
            </div>
        </div>
    </template>

    <template id="view-create">
        <div class="max-w-4xl mx-auto">
            <div class="bg-white border border-[#dfdcd9] shadow-sm rounded-sm">
                <div class="px-8 py-6 border-b border-[#dfdcd9]">
                    <h2 class="text-xl font-light text-gray-800 mb-1">New Paste Configuration</h2>
                    <p class="text-sm text-gray-500">Define the content and properties for your new code snippet.</p>
                </div>
                
                <form id="create-form" onsubmit="app.savePaste(event)" class="px-8 py-8 space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Title</label>
                            <input type="text" name="title" required placeholder="e.g. Nginx Configuration" class="w-full px-3 py-2 text-sm maas-input">
                            <p class="text-xs text-gray-500">A descriptive name for this paste.</p>
                        </div>
                        
                        <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Syntax Highlighting</label>
                            <select name="syntax" class="w-full px-3 py-2 text-sm maas-input bg-white">
                                <option value="Plain Text">Plain Text</option>
                                <option value="JavaScript">JavaScript</option>
                                <option value="Python">Python</option>
                                <option value="HTML">HTML</option>
                                <option value="CSS">CSS</option>
                                <option value="YAML">YAML</option>
                                <option value="JSON">JSON</option>
                                <option value="Bash">Bash</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                         <div class="space-y-2">
                            <label class="block text-sm font-medium text-gray-700">Visibility</label>
                            <div class="flex gap-4 mt-2">
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="visibility" value="public" checked class="text-[#E95420] focus:ring-[#E95420]">
                                    <span class="text-sm">Public</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="visibility" value="private" class="text-[#E95420] focus:ring-[#E95420]">
                                    <span class="text-sm">Private</span>
                                </label>
                                <label class="flex items-center gap-2 cursor-pointer">
                                    <input type="radio" name="visibility" value="burn" class="text-[#E95420] focus:ring-[#E95420]">
                                    <span class="text-sm">Burn on read</span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="space-y-2">
                        <label class="block text-sm font-medium text-gray-700">Content</label>
                        <div class="relative">
                            <textarea name="content" required class="w-full h-64 font-mono text-sm p-4 maas-input code-editor resize-y focus:shadow-none" placeholder="// Paste your code here..."></textarea>
                        </div>
                    </div>
                </form>

                <div class="px-8 py-4 bg-gray-50 border-t border-[#dfdcd9] flex justify-end gap-3">
                    <button type="button" onclick="app.navigate('dashboard')" class="maas-btn-secondary px-4 py-2 text-sm rounded font-medium">Cancel</button>
                    <button onclick="document.getElementById('create-form').requestSubmit()" class="maas-btn-primary px-6 py-2 text-sm rounded font-medium shadow-sm">Save paste</button>
                </div>
            </div>
        </div>
    </template>

    <template id="view-detail">
        <div class="max-w-5xl mx-auto space-y-4">
            <!-- Meta Card -->
            <div class="bg-white border border-[#dfdcd9] shadow-sm rounded-sm p-6 flex justify-between items-start">
                <div>
                    <h2 class="text-2xl font-light text-gray-800 mb-2" id="detail-title">Title</h2>
                    <div class="flex gap-4 text-sm text-gray-500">
                        <span class="flex items-center gap-1"><i class="fa-regular fa-clock"></i> <span id="detail-date">Date</span></span>
                        <span class="flex items-center gap-1"><i class="fa-solid fa-code"></i> <span id="detail-syntax">Syntax</span></span>
                        <span class="flex items-center gap-1"><i class="fa-regular fa-file"></i> <span id="detail-size">Size</span></span>
                    </div>
                </div>
                <div id="detail-status"></div>
            </div>

            <!-- Content Card -->
            <div class="bg-white border border-[#dfdcd9] shadow-sm rounded-sm overflow-hidden">
                <div class="bg-gray-50 px-4 py-2 border-b border-[#dfdcd9] flex justify-between items-center">
                    <span class="text-xs font-bold text-gray-500 uppercase">Raw Content</span>
                    <button onclick="app.copyContent()" class="text-xs text-[#0066cc] hover:underline flex items-center gap-1">
                        <i class="fa-regular fa-copy"></i> Copy to clipboard
                    </button>
                </div>
                <pre class="p-4 overflow-x-auto text-sm font-mono bg-white text-gray-800" id="detail-content" style="white-space: pre-wrap;"></pre>
            </div>
        </div>
    </template>

    <script>
        const app = {
            pastes: [],
            currentView: 'dashboard',
            
            init() {
                // Load mock data if empty
                if (this.pastes.length === 0) {
                    this.pastes = [
                        { id: 'p-10923', title: 'Nginx Reverse Proxy', syntax: 'Nginx', visibility: 'public', content: 'server {\n    listen 80;\n    server_name example.com;\n}', created: new Date().toISOString(), size: '54B' },
                        { id: 'p-10924', title: 'Database Connection', syntax: 'Python', visibility: 'private', content: 'def connect():\n    return psycopg2.connect(...)', created: new Date(Date.now() - 86400000).toISOString(), size: '120B' },
                        { id: 'p-10925', title: 'Environment Variables', syntax: 'Bash', visibility: 'burn', content: 'export API_KEY=123456', created: new Date(Date.now() - 172800000).toISOString(), size: '24B' },
                    ];
                }
                this.navigate('dashboard');
                this.updateSidebarCounts();
            },

            navigate(view, data = null) {
                this.currentView = view;
                
                // Update Navigation Active State
                document.querySelectorAll('.maas-nav-item').forEach(el => el.classList.remove('active'));
                const navId = `nav-${view === 'detail' ? 'pastes' : view}`;
                const navEl = document.getElementById(navId);
                if (navEl) navEl.classList.add('active');

                // Update Breadcrumbs & Title
                const titles = {
                    'dashboard': 'Dashboard',
                    'pastes': 'Pastes',
                    'create': 'New Paste',
                    'detail': data ? `Pastes / ${data.id}` : 'Paste Detail'
                };
                document.getElementById('page-title').innerText = titles[view] || 'Dashboard';
                
                // Clear Container
                const container = document.getElementById('content-area');
                container.innerHTML = '';

                // Render View
                const template = document.getElementById(`view-${view}`);
                if (template) {
                    const clone = template.content.cloneNode(true);
                    container.appendChild(clone);
                    
                    // Post-render logic
                    if (view === 'dashboard') this.renderDashboard();
                    if (view === 'pastes') this.renderPasteList();
                    if (view === 'detail' && data) this.renderDetail(data);
                    if (view === 'create') this.setupCreateActions();
                }
            },

            updateSidebarCounts() {
                document.getElementById('paste-count-badge').innerText = this.pastes.length;
            },

            renderDashboard() {
                document.getElementById('dash-total').innerText = this.pastes.length;
                const tbody = document.getElementById('dash-table-body');
                
                // Show last 5 items
                this.pastes.slice(0, 5).forEach(paste => {
                    const tr = document.createElement('tr');
                    tr.className = "cursor-pointer";
                    tr.onclick = () => this.navigate('detail', paste);
                    tr.innerHTML = `
                        <td>
                            <div class="font-medium text-[#0066cc]">${paste.title}</div>
                            <div class="text-xs text-gray-500 font-mono">${paste.id}</div>
                        </td>
                        <td>${paste.syntax}</td>
                        <td>${this.getStatusPill(paste.visibility)}</td>
                        <td class="text-gray-500 text-xs">${new Date(paste.created).toLocaleDateString()}</td>
                        <td class="font-mono text-xs">${paste.size}</td>
                    `;
                    tbody.appendChild(tr);
                });

                // Setup Action Buttons for Header
                const actions = document.getElementById('action-buttons');
                actions.innerHTML = `
                    <button onclick="app.navigate('create')" class="maas-btn-primary px-4 py-1.5 text-sm rounded shadow-sm font-medium">
                        Add paste
                    </button>
                `;
            },

            renderPasteList(filterText = '') {
                const tbody = document.getElementById('pastes-table-body');
                if(!tbody) return; // Safety check
                
                tbody.innerHTML = ''; // Clear existing rows

                // Filter data
                const filtered = this.pastes.filter(p => {
                    const text = filterText.toLowerCase();
                    return p.title.toLowerCase().includes(text) || 
                           p.id.toLowerCase().includes(text) || 
                           p.syntax.toLowerCase().includes(text);
                });

                document.getElementById('footer-count').innerText = `${filtered.length} paste${filtered.length !== 1 ? 's' : ''}`;
                
                if (filtered.length === 0) {
                    tbody.innerHTML = `<tr><td colspan="6" class="text-center py-8 text-gray-500">No pastes found matching "${filterText}"</td></tr>`;
                    return;
                }

                filtered.forEach(paste => {
                    const tr = document.createElement('tr');
                    tr.innerHTML = `
                        <td class="text-center"><input type="checkbox" class="rounded border-gray-300"></td>
                        <td>
                            <a href="#" onclick="app.navigate('detail', app.getPaste('${paste.id}')); return false;" class="font-medium text-[#0066cc] hover:underline block">${paste.title}</a>
                            <span class="text-xs text-gray-400 font-mono">${paste.id}</span>
                        </td>
                        <td>${paste.syntax}</td>
                        <td>${this.getStatusPill(paste.visibility)}</td>
                        <td class="text-gray-500 text-xs">${new Date(paste.created).toLocaleString()}</td>
                        <td>
                            <div class="flex gap-2">
                                <button onclick="app.deletePaste('${paste.id}')" class="text-gray-400 hover:text-red-600 transition-colors" title="Delete">
                                    <i class="fa-regular fa-trash-can"></i>
                                </button>
                            </div>
                        </td>
                    `;
                    tbody.appendChild(tr);
                });

                 const actions = document.getElementById('action-buttons');
                 actions.innerHTML = `
                    <button onclick="app.navigate('create')" class="maas-btn-primary px-4 py-1.5 text-sm rounded shadow-sm font-medium">
                        Add paste
                    </button>
                `;
            },

            renderDetail(paste) {
                document.getElementById('detail-title').innerText = paste.title;
                document.getElementById('detail-date').innerText = new Date(paste.created).toLocaleString();
                document.getElementById('detail-syntax').innerText = paste.syntax;
                document.getElementById('detail-size').innerText = paste.size;
                document.getElementById('detail-status').innerHTML = this.getStatusPill(paste.visibility);
                document.getElementById('detail-content').textContent = paste.content; // safe text content

                const actions = document.getElementById('action-buttons');
                actions.innerHTML = `
                    <button onclick="app.deletePaste('${paste.id}')" class="bg-white border border-red-200 text-red-700 hover:bg-red-50 px-4 py-1.5 text-sm rounded shadow-sm font-medium mr-2">
                        Delete
                    </button>
                    <button onclick="app.navigate('pastes')" class="maas-btn-secondary px-4 py-1.5 text-sm rounded shadow-sm font-medium">
                        Close
                    </button>
                `;
            },

            setupCreateActions() {
                const actions = document.getElementById('action-buttons');
                actions.innerHTML = ''; // No top buttons on create form usually, actions are at bottom
            },

            savePaste(e) {
                e.preventDefault();
                const form = e.target;
                const formData = new FormData(form);
                
                const newPaste = {
                    id: `p-${Math.floor(Math.random() * 90000) + 10000}`,
                    title: formData.get('title'),
                    syntax: formData.get('syntax'),
                    visibility: formData.get('visibility'),
                    content: formData.get('content'),
                    created: new Date().toISOString(),
                    size: this.formatBytes(new TextEncoder().encode(formData.get('content')).length)
                };

                this.pastes.unshift(newPaste);
                this.updateSidebarCounts();
                this.navigate('pastes');
            },

            deletePaste(id) {
                if(confirm('Are you sure you want to release this paste? This action cannot be undone.')) {
                    this.pastes = this.pastes.filter(p => p.id !== id);
                    this.updateSidebarCounts();
                    // If currently viewing this paste, go back to list
                    if (this.currentView === 'detail') {
                        this.navigate('pastes');
                    } else {
                        this.renderPasteList(); // Re-render list
                    }
                }
            },

            getPaste(id) {
                return this.pastes.find(p => p.id === id);
            },

            getStatusPill(status) {
                const map = {
                    'public': '<span class="status-pill status-public">Public</span>',
                    'private': '<span class="status-pill status-private">Private</span>',
                    'burn': '<span class="status-pill status-burn">Burn</span>',
                };
                return map[status] || status;
            },

            formatBytes(bytes, decimals = 2) {
                if (!+bytes) return '0 Bytes';
                const k = 1024;
                const dm = decimals < 0 ? 0 : decimals;
                const sizes = ['B', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return `${parseFloat((bytes / Math.pow(k, i)).toFixed(dm))} ${sizes[i]}`;
            },
            
            copyContent() {
                const content = document.getElementById('detail-content').textContent;
                navigator.clipboard.writeText(content).then(() => {
                    alert('Copied to clipboard');
                });
            }
        };

        // Initialize app when DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
            app.init();
        });
    </script>
</body>
</html>